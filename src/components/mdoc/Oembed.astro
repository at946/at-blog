---
import { Image } from 'astro:assets'
import ogpParser from 'ogp-parser'

interface Props {
  url: string
}

const { url } = Astro.props

const parsedOgp: Object = await ogpParser(url)
                                .then((data) => {
                                  if (!data.oembed?.html) {
                                    throw('No oembed html')
                                  }
                                  return data
                                }).catch((error) => {
                                  throw(error)
                                })

const html: string = parsedOgp.oembed.html
---

<div set:html={html} class="flex justify-center" />
